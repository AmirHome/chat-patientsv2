(()=>{"use strict";$("#userStatusEmoji").emojioneArea({standalone:!0,autocomplete:!1,saveEmojisAs:"shortname",pickerPosition:"right"}),$(document).on("click","#setUserStatus",(function(e){e.preventDefault();var s=$(this);s.button("loading");var t=$("#userStatusEmoji").data("emojioneArea").getText().trim(),a={emoji:emojione.shortnameToImage(t),emoji_short_name:t,status:$("#userStatus").val()};$.ajax({type:"post",url:route("set-user-status"),data:a,success:function(e){displayToastr(Lang.get("messages.new_keys.success"),"success",e.message),s.button("reset"),$("#setCustomStatusModal").modal("hide")},error:function(e){displayToastr(Lang.get("messages.new_keys.error"),"error",e.responseJSON.message),s.button("reset")}})})),$(document).on("click","#clearUserStatus",(function(e){e.preventDefault();var s=$(this);s.button("loading"),$.ajax({type:"get",url:route("clear-user-status"),success:function(e){$("#userStatus").val(""),$("#userStatusEmoji")[0].emojioneArea.setText(""),displayToastr(Lang.get("messages.new_keys.success"),"success",e.message),s.button("reset"),$("#setCustomStatusModal").modal("hide")},error:function(e){displayToastr(Lang.get("messages.new_keys.error"),"error",e.responseJSON.message),s.button("reset")}})})),""!=loggedInUserStatus&&loggedInUserStatus.hasOwnProperty("status")&&($("#userStatus").val(loggedInUserStatus.status),$("#userStatusEmoji")[0].emojioneArea.setText(loggedInUserStatus.emoji_short_name))})();